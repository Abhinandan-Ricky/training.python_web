<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.9.1: http://docutils.sourceforge.net/" />
<meta name="version" content="S5 1.1" />
<title>Internet Programming with Python</title>
<link rel="stylesheet" href="ui/uw_pce_theme/pretty.css" type="text/css" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<script src="ui/uw_pce_theme/slides.js" type="text/javascript"></script>
<link rel="stylesheet" href="ui/uw_pce_theme/slides.css"
      type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/uw_pce_theme/outline.css"
      type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/uw_pce_theme/print.css"
      type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/uw_pce_theme/opera.css"
      type="text/css" media="projection" id="operaFix" />
</head>
<body>
<div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header">

</div>
<div id="footer">
<h1>Internet Programming with Python</h1>
<h2><a class="reference external" href="http://github.com/cewing/training.python_web">View document source</a>.
</h2>
</div>
</div>
<div class="presentation">
<div class="slide" id="slide0">
<h1 class="title">Internet Programming with Python</h1>

<p>blah blah blah</p>

</div>
<div class="slide" id="rest">
<h1>REST</h1>
<p class="center">Representational State Transfer</p>
<ul class="incremental simple">
<li>Originally described by Roy T. Fielding (did you read it?)</li>
<li>Use HTTP for what it can do</li>
<li>Read more in <a class="reference external" href="http://www.crummy.com/writing/RESTful-Web-Services/">this book</a>*</li>
</ul>
<p class="image-credit incremental">* Seriously. Buy it and read
(&lt;<a class="reference external" href="http://www.crummy.com/writing/RESTful-Web-Services/">http://www.crummy.com/writing/RESTful-Web-Services/</a>)</p>
</div>
<div class="slide" id="a-comparison">
<h1>A Comparison</h1>
<p>The XML-RCP/SOAP way:</p>
<ul class="incremental small simple">
<li>POST /getComment HTTP/1.1</li>
<li>POST /getComments HTTP/1.1</li>
<li>POST /addComment HTTP/1.1</li>
<li>POST /editComment HTTP/1.1</li>
<li>POST /deleteComment HTTP/1.1</li>
</ul>
<p class="incremental">The RESTful way:</p>
<ul class="incremental small simple">
<li>GET /comment/&lt;id&gt; HTTP/1.1</li>
<li>GET /comment HTTP/1.1</li>
<li>POST /comment HTTP/1.1</li>
<li>PUT /comment/&lt;id&gt; HTTP/1.1</li>
<li>DELETE /comment/&lt;id&gt; HTTP/1.1</li>
</ul>
</div>
<div class="slide" id="roa">
<h1>ROA</h1>
<p>This is <strong>Resource Oriented Architecture</strong></p>
<p class="incremental">The URL represents the <em>resource</em> we are working with</p>
<p class="incremental">The HTTP Verb represents the <tt class="docutils literal">action</tt> to be taken</p>
<p class="incremental">The HTTP Code returned tells us the <tt class="docutils literal">result</tt> (whether success or failure)</p>
</div>
<div class="slide" id="http-codes-revisited">
<h1>HTTP Codes Revisited</h1>
<p class="small">POST /comment HTTP/1.1  (creating a new comment):</p>
<ul class="incremental small simple">
<li>Success: <tt class="docutils literal">HTTP/1.1 201 Created</tt></li>
<li>Failure (unauthorized): <tt class="docutils literal">HTTP/1.1 401 Unauthorized</tt></li>
<li>Failure (NotImplemented): <tt class="docutils literal">HTTP/1.1 405 Not Allowed</tt></li>
<li>Failure (ValueError): <tt class="docutils literal">HTTP/1.1 406 Not Acceptable</tt></li>
</ul>
<p class="small incremental">PUT /comment/&lt;id&gt; HTTP/1.1 (edit comment):</p>
<ul class="incremental small simple">
<li>Success: <tt class="docutils literal">HTTP/1.1 200 OK</tt></li>
<li>Failure: <tt class="docutils literal">HTTP/1.1 409 Conflict</tt></li>
</ul>
<p class="small incremental">DELETE /comment/&lt;id&gt; HTTP/1.1 (delete comment):</p>
<ul class="incremental small simple">
<li>Success: <tt class="docutils literal">HTTP/1.1 204 No Content</tt></li>
</ul>
</div>
<div class="slide" id="http-is-stateless">
<h1>HTTP Is Stateless</h1>
<p>No individual request may be assumed to know anything about any other request.</p>
<p class="incremental">All the required information for to represent the possible actions to take
<em>should be present in either the request or the response</em>.</p>
<p class="incremental big-centered">Thus:  HATEOAS</p>
</div>
<div class="slide" id="hateoas">
<h1>HATEOAS</h1>
<p class="big-centered">Hypermedia As The Engine Of Application State</p>
</div>
<div class="slide" id="applications-are-state-engines">
<h1>Applications are State Engines</h1>
<p>A State Engine is a machine that provides <em>states</em> for a resource to be in and
<em>transitions</em> to move resources between states.  A Restful api should:</p>
<ul class="incremental simple">
<li>provide information about the current state of a resource</li>
<li>provide information about available transitions for that resource (URIs)</li>
<li>provide all this in each HTTP response</li>
</ul>
</div>
<div class="slide" id="playing-with-rest">
<h1>Playing With REST</h1>
<p>Let's take a moment to play with REST.</p>
<p class="incremental">We tried geocoding with SOAP.  Let's repeat the exercise with a REST/JSON API</p>
<p class="incremental center"><strong>Back to your interpreter</strong></p>
</div>
<div class="slide" id="geocoding-with-google-apis">
<h1>Geocoding with Google APIs</h1>
<p><a class="reference external" href="https://developers.google.com/maps/documentation/geocoding">https://developers.google.com/maps/documentation/geocoding</a></p>
<pre class="code python small incremental literal-block">
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">urllib</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">urllib2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">base</span> <span class="o">=</span> <span class="s">'http://maps.googleapis.com/maps/api/geocode/json'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">addr</span> <span class="o">=</span> <span class="s">'1325 4th Ave, Seattle, WA 98101'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">'address'</span><span class="p">:</span> <span class="n">addr</span><span class="p">,</span> <span class="s">'sensor'</span><span class="p">:</span> <span class="bp">False</span> <span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">query</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">urlencode</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">'?'</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">base</span><span class="p">,</span> <span class="n">query</span><span class="p">]))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre>
</div>
<div class="slide" id="restful-job-listings">
<h1>RESTful Job Listings</h1>
<p><a class="reference external" href="https://github.com/mattnull/techsavvyapi">https://github.com/mattnull/techsavvyapi</a></p>
<pre class="code python small incremental literal-block">
<span class="o">&gt;&gt;&gt;</span> <span class="n">base</span> <span class="o">=</span> <span class="s">'http://api.techsavvy.io/jobs'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">search</span> <span class="o">=</span> <span class="s">'python+web'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">res</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">'/'</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">base</span><span class="p">,</span> <span class="n">search</span><span class="p">]))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">type</span> <span class="s">'dict'</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="p">[</span><span class="s">u'count'</span><span class="p">,</span> <span class="s">u'data'</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">response</span><span class="p">[</span><span class="s">'count'</span><span class="p">]</span>
<span class="mi">50</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s">'data'</span><span class="p">]:</span>
<span class="o">...</span>   <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<span class="o">...</span>     <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">:</span><span class="se">\n</span><span class="s">    </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">post</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
<span class="o">...</span>   <span class="k">print</span>
<span class="o">...</span>
</pre>
</div>
<div class="slide" id="lab-2-mashup">
<h1>Lab 2 - Mashup</h1>
<p>Some of the job postings from our TechSavvy api returned lat/lon pairs.</p>
<p>Google provides a reverse address lookup service via the geocoding api
(<a class="reference external" href="https://developers.google.com/maps/documentation/geocoding/#ReverseGeocoding">https://developers.google.com/maps/documentation/geocoding/#ReverseGeocoding</a>)</p>
<p>Create a list of job postings, with an address for those postings that provide
the needed data</p>
<p class="incremental center"><strong>GO</strong></p>
</div>
<div class="slide" id="assignment">
<h1>Assignment</h1>
<p>Using what you've learned this week, create a more complex mashup of some data
that interests you. Map the locations of the breweries near your house. Chart
a multi-axial graph of the popularity of various cities across several
categories.  Visualize the most effective legislators in Congress.  You have
interests, the Web has tools.  Put them together to make something.</p>
</div>
<div class="slide" id="submitting-the-assignment">
<h1>Submitting the Assignment</h1>
<p>Place the following in the <tt class="docutils literal">assignments/week03/athome</tt> directory and make a
pull request:</p>
<dl class="small docutils">
<dt>A textual description of your mashup (README.txt).</dt>
<dd>What data sources did you scan, what tools did you use, what is the
outcome you wanted to create?</dd>
</dl>
<dl class="small docutils">
<dt>Your source code (mashup.py).</dt>
<dd>Give me an executable python script that I can run to get output.</dd>
</dl>
<dl class="small docutils">
<dt>Any instructions I need.</dt>
<dd>If I need instructions beyond 'python mashup.py' to get the right
output, let me know.</dd>
</dl>
</div>
<div class="slide" id="what-you-made">
<h1>What You Made</h1>
<ul class="incremental simple">
<li>geographic locations of our Bluebox VMs</li>
<li>Visualization of the popularity of Facebook Friends' first names</li>
<li>Restaurants near your location with recent Health Inspection data</li>
<li>A Last-FM user's top artists, with lists of mixcloud mixes featuring each of
them</li>
<li>A list of Craigslist apartments with the nearest bars, pizza and sushi
places and their Yelp ratings</li>
<li>Geographic locations of the top 20 users returned for a twitter search,
along with other twitter data</li>
</ul>
</div>
</div>
</body>
</html>
